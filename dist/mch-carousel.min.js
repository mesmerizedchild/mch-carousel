/**
 * MCh Carousel 1.0
 *
 * Â© 2015 Roberto Giuntoli [rg@mesmerizedchild.eu]
 * More information at https://github.com/mesmerizedchild/mch-carousel/blob/master/README.md
 *
 * Dependencies:
 *   - jQuery 2 [https://jquery.com/]
 *   - plugin jQuery-mousewheel [https://github.com/jquery/jquery-mousewheel]
 * Licence:
 *   MIT
 *
 * @preserve
 */
!function(e){"use strict";function t(t,n){function o(i){return"undefined"==typeof i?s(e.fn.scrollLeft.apply(t)):e.fn.scrollLeft.apply(t,[s(i)])}function a(e,i,o){var a=i===r.p?1e3*Math.abs(t.scrollStart()-e)/o:o;t.stop(!0,!1).animate({scrollLeft:s(e)},a,n.slideEasingFunction)}function s(e){if(i(t))return e;var n=t[0];switch(c){case r.n:return-e;case r.w:return n.scrollWidth-e-n.clientWidth}return e}var c=function(){var t,i=e('<div dir="rtl" style="position: absolute; top: -1000px; font-size: 14px; width: 1px; height: 1px; overflow: scroll">A</div>').appendTo("body")[0];return i.scrollLeft>0?t=r.w:(i.scrollLeft=1,t=0===i.scrollLeft?r.n:r.r),e(i).remove(),t}();t.scrollStart=o,t.animatedScrollStart=a}function i(e){return"ltr"===e.css("direction")}"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(e){return-1!==this.indexOf(e,this.length-e.length)}),e.fn.mchCarousel=function(t){var i=[];switch(e(this).each(function(){var n,o,a=e(this);if(a[0]){if(n=a.data(r.f))return void i.push(n);o=new s(a,t),a.data(r.f,o),i.push(o)}}),i.length){case 0:return void 0;case 1:return i[0]}return i};var n={automaticSlideOptions:{atStartup:!0,direction:null,pauseMs:3e3,pauseOnHoverImage:!0,pauseOnHoverButtons:!1},slideOneImageAnimation:"2000px/s",slideAllImagesAnimation:"3236px/s",slideEasingFunction:"swing",autoCenterOnHover:!0,displayButtons:"hover",displayCaption:"hover",captureArrowKeys:!0,captureArrowKeysOptions:{selector:"body"},slideWithMouseWheel:!0,advanced:{slideTolerance:5,mousewheelAutocentreInactivityMs:1e3,mousewheelMultiplier:40,divCleanup:!0}},r={f:"mch-carousel",p:"px/s",x:"px",a:"mch-invisible",h:"mch-no-hover",w:"default",n:"negative",r:"reverse",s:"#mch-visible-carousel",S:"mch-visible-carousel",c:"#mch-viewport",C:"mch-viewport",b:".mch-button",B:"mch-button",t:".mch-caption-cntnr",T:"mch-caption-cntnr",k:".mch-image-container",K:"mch-image-container",m:".mch-padding",M:"mch-padding",l:"#mch-image-list",L:"mch-image-list",Z:"mch-buttons-pane",Z1:"mch-slide-control-group",Z2:"mch-left-right-group",Z3:"mch-start-end-group",G:"mch-button-background",J:"mch-button-graphics",D:"mch-hyperlink",E:"mch-caption-lines",E0:"mch-caption-background",E1:"mch-caption-line1",E2:"mch-caption-line2",E3:"mch-caption-line3",F:"mch-image",Q:"mch-scrollable-viewport",R:"mch-navigation",O:"mch-slide-control",ia:"_mch-carousel:enter-image",ib:"_mch-carousel:auto-centre",ic:"_mch-carousel:leave-image",ie:"_mch-carousel:enter-carousel",ig:"_mch-carousel:leave-carousel",im:"_mch-carousel:options-changed",ix:"_mch-carousel:pause-auto-slide",iz:"_mch-carousel:restart-auto-slide",iy:"_mch-carousel:reschedule-auto-slide",it:"_mch-carousel:cancel-auto-slide",i5:"_mch-carousel:slide-prev",i6:"_mch-carousel:slide-next",i7:"_mch-carousel:slide-first",i8:"_mch-carousel:slide-last",i9:"_mch-carousel:auto-next"},o={p:"mch-carousel:enter-carousel",r:"mch-carousel:leave-carousel",c:"mch-carousel:before-slide-left",d:"mch-carousel:slide-left",e:"mch-carousel:before-slide-right",f:"mch-carousel:slide-right",g:"mch-carousel:before-slide-leftmost",h:"mch-carousel:slide-leftmost",i:"mch-carousel:before-slide-rightmost",j:"mch-carousel:slide-rightmost",C:"mch-carousel:before-slide-prev",D:"mch-carousel:slide-prev",E:"mch-carousel:before-slide-next",F:"mch-carousel:slide-next",G:"mch-carousel:before-slide-first",H:"mch-carousel:slide-first",I:"mch-carousel:before-slide-last",J:"mch-carousel:slide-last",a:"mch-carousel:before-autocentre-image",b:"mch-carousel:autocentre-image",l:"mch-carousel:enter-image",n:"mch-carousel:leave-image",s:"mch-carousel:enter-button",t:"mch-carousel:leave-button"},a=e.fn.mchCarousel.eventNames=[];e.each(o,function(e,t){a.push(t)}),e.fn.mchCarousel.defaultOptions=n;var s=function(a,s){function c(){return a}function u(){return a[0]}function l(){var t=e('<div id="'+r.L+'"></div>');return a.find("img").each(function(){t.append(this)}),s.advanced.divCleanup&&a.html(""),a.append(t),t}function d(){R.carouselResized()}function h(t){s=e.extend(!0,{},s,t),f(),a.trigger(r.im)}function f(){var e=s._h||(s._h={}),t=s.slideOneImageAnimation,i=s.slideAllImagesAnimation;e.oau=t?t.endsWith(r.x)||t.endsWith(r.p)?r.p:"ms":"1000px",e.oav=t?parseInt(t):500,e.aau=i?i.endsWith(r.x)||i.endsWith(r.p)?r.p:"ms":"1609px",e.aav=i?parseInt(i):1500}function p(){switch(s.automaticSlideOptions.direction){case"ltr":return!0;case"rtl":return!1}return i(a)}function m(){a.trigger(r.iy)}function g(e){e.addClass(r.a)}function v(e){e.removeClass(r.a)}function w(e){e.removeClass(r.h)}function b(e){e.addClass(r.h)}s=e.extend(!0,{},n,s),f();{var y=function(e,t){function i(){u||null!=c||(c=window.setTimeout(function(){e(),c=null},l()))}function n(){c&&window.clearTimeout(c),c=null}function r(){n(),i()}function o(){u=!0,n()}function a(){u=!1,r()}function s(){return u}var c=null,u=!1,l="function"==typeof t?t:function(){return t};this.schedule=i,this.cancel=n,this.reschedule=r,this.pause=o,this.restart=a,this.isPaused=s},x=function(){function e(){a.trigger(r.ix)}function t(){a.trigger(r.iz)}function i(){var e;m(),f(),(e=p())?(S(),I()):(_(),R()),g(),e?M():A()}function n(){var e;m(),v(),(e=p())?(_(),R()):(S(),I()),w(),e?A():M()}function s(){var e;m(),b(),(e=p())?(B(),E()):(C(),W()),y(),e?L():k()}function c(){var e;m(),x(),(e=p())?(C(),W()):(B(),E()),O(),e?k():L()}function u(){var e;m(),(e=p())?f():v(),S(),I(),(e=p())?g():w(),M()}function l(){var e;m(),(e=p())?v():f(),_(),R(),(e=p())?w():g(),A()}function d(){var e;m(),(e=p())?b():x(),B(),E(),(e=p())?y():O(),L()}function h(){var e;m(),(e=p())?x():b(),C(),W(),(e=p())?O():y(),k()}function f(){a.trigger(o.c)}function g(){a.trigger(o.d)}function v(){a.trigger(o.e)}function w(){a.trigger(o.f)}function b(){a.trigger(o.g)}function y(){a.trigger(o.h)}function x(){a.trigger(o.i)}function O(){a.trigger(o.j)}function S(){a.trigger(o.C)}function M(){a.trigger(o.D)}function _(){a.trigger(o.E)}function A(){a.trigger(o.F)}function B(){a.trigger(o.G)}function L(){a.trigger(o.H)}function C(){a.trigger(o.I)}function k(){a.trigger(o.J)}function E(){a.trigger(r.i7)}function I(){a.trigger(r.i5)}function R(){a.trigger(r.i6)}function W(){a.trigger(r.i8)}this.pauseAutoslide=e,this.restartAutoslide=t,this.slideLeft=i,this.slideRight=n,this.slideLeftmost=s,this.slideRightmost=c,this.slidePrev=u,this.slideNext=l,this.slideFirst=d,this.slideLast=h},O=function(e){function t(){e.is(":visible")&&a.trigger(r.i9),d.schedule()}function i(){s.automaticSlideOptions.pauseOnHoverImage&&d.cancel()}function n(){s.automaticSlideOptions.pauseOnHoverImage&&d.schedule()}function c(){s.automaticSlideOptions.pauseOnHoverButtons&&d.cancel()}function u(){s.automaticSlideOptions.pauseOnHoverButtons&&d.schedule()}function l(){}var d=(e[0],new y(t,function(){return s.automaticSlideOptions.pauseMs}));a.on(r.ix,function(){d.pause()}),a.on(r.iz,function(){d.restart()}),a.on(r.iy,function(){d.reschedule()}),a.on(r.it,function(){d.cancel()}),a.on(r.ia,i),a.on(r.ic,n),a.on(o.s,c),a.on(o.t,u),a.on(r.im,l),s.automaticSlideOptions.atStartup?d.schedule():d.pause()},S=function(){function t(e){O&&(O.off("mousewheel",v),O.remove()),(O=e)&&(S.prepend(O),O.on({mousewheel:v}))}function i(){return O}function n(e){x&&x.remove(),S.append(x=e)}function c(){return x}function u(t){b()&&e(t.target).trigger(r.ib,t.target)}function l(){if(s.captureArrowKeys){var t=e(s.captureArrowKeysOptions.selector),i=function(e){O&&(37===e.keyCode?E.slideLeft():39===e.keyCode&&E.slideRight())};if(t[0]){t.on("keydown",i);var n;(n=s._h).cD=t[0],n.cF=i}}}function d(){var t;(t=s._h).cD&&(e(t.cD).off("keydown",t.cF),t.cD=null)}function h(){d(),f(),l()}function f(){x&&("never"!==s.displayButtons&&S.width()<O[0].totalWidth()?x[0].showNavigationButtons():x[0].hideNavigationButtons())}function p(){a.trigger(r.ie),S.trigger(o.p)}function g(){a.trigger(r.ig),S.trigger(o.r)}function v(){M=!0,_.reschedule()}function w(){M=!1,m()}function b(){return s.autoCenterOnHover&&!M}var x,O,S=e('<div id="'+r.S+'"></div>'),M=!1,_=new y(w,function(){return s.advanced.mousewheelAutocentreInactivityMs});S.on({mouseenter:p,mouseleave:g}),S.on(r.ia,u),a.on(r.im,h),h();var A=S[0];return A.carouselResized=f,A.setViewport=t,A.getViewport=i,A.setButtonsPane=n,A.getButtonsPane=c,S},M=function(t){function i(e){u.append(e)}function n(){switch(s.displayButtons){case"hover":b(u),v(u);break;case"never":g(u);break;default:w(u),v(u)}}function o(){"hover"===s.displayButtons&&w(u)}function c(){"hover"===s.displayButtons&&b(u)}var u=e('<div id="'+t+'"></div>');a.on(r.ie,o),a.on(r.ig,c),a.on(r.im,n),n();var l=u[0];return l.addButton=i,u},_=function(){function t(){v(u),v(l)}function i(){g(u),g(l)}function n(e){c[0].addButton(e)}function o(e){u[0].addButton(e)}function a(e){l[0].addButton(e)}var s=e('<div id="'+r.Z+'"></div>'),c=new M(r.Z1),u=new M(r.Z2),l=new M(r.Z3);n(new A("mch-pause","sc",E.pauseAutoslide)),n(new A("mch-restart","sc",E.restartAutoslide)),o(new A("mch-leftmost","nlr",E.slideLeftmost)),o(new A("mch-left","nlr",E.slideLeft)),o(new A("mch-right","nlr",E.slideRight)),o(new A("mch-rightmost","nlr",E.slideRightmost)),a(new A("mch-first","nse",E.slideFirst)),a(new A("mch-prev","nse",E.slidePrev)),a(new A("mch-next","nse",E.slideNext)),a(new A("mch-last","nse",E.slideLast)),s.append(c).append(u).append(l);var d=s[0];return d.showNavigationButtons=t,d.hideNavigationButtons=i,s},A=function(t,i,n){function a(){u.trigger(o.s)}function s(){u.trigger(o.t)}function c(e){e.preventDefault()}var u=e('<div class="'+r.B+" "+("sc"===i?r.O:r.R)+'" id="'+t+'"><div class="'+r.G+'"></div><div class="'+r.J+'"></div></div>');return u.on({click:n,dblclick:c,mouseenter:a,mouseleave:s}),u[0].onselectstart=c,u},B=function(t){function i(){R&&I.prop("src",O),c(),E.trigger(r.ia),E.trigger(o.l)}function n(){R&&I.prop("src",y),u(),E.trigger(r.ic),E.trigger(o.n)}function c(){f&&"hover"===l()&&w(f)}function u(){f&&"hover"===l()&&b(f)}function l(){var e;return(e=I.data("caption-display"))?e:s.displayCaption}function d(){if(f)switch(l()){case"hover":b(f),v(f);break;case"never":g(f);break;default:w(f),v(f)}}var h,f,p=t.prop("id"),m=t.prop("class"),y=t.prop("src"),x=t.prop("alt"),O=t.data("img-over"),S=t.data("caption-display"),M=t.data("data"),_=t.data("caption-lang"),A=t.data("caption-line1"),B=t.data("caption-line2"),L=t.data("caption-line3"),C=t.data("link"),k=t.data("open-in-new-window"),E=e('<div class="'+r.K+(m?" "+m:"")+'"'+(p?' id="'+p+'"':"")+(M?' data-data="'+M+'"':"")+"></div>");C?E.append(h=e('<a class="'+r.D+'" href="'+C+'"'+(k?' target="_blank"':"")+"></a>")):h=E,(A||B||L)&&(f=e('<div class="'+r.T+'"><div class="'+r.E0+'"></div><div class="'+r.E+'"'+(_?' lang="'+_+'"':"")+">"+(A?'<div class="'+r.E1+'"><p>'+A+"</p></div>":"")+(B?'<div class="'+r.E2+'"><p>'+B+"</p></div>":"")+(L?'<div class="'+r.E3+'"><p>'+L+"</p></div>":"")+"</div></div>"),h.append(f)),h.append('<img class="'+r.F+'" src="'+y+'" data-src="'+y+'" '+(x?' alt="'+x+'" ':"")+(O?' data-img-over="'+O+'" ':"")+(S?' data-caption-display="'+S+'" ':"")+"></img>"),E.on({mouseenter:i,mouseleave:n}),a.on(r.im,d);var I=E.find("img"),R=!!I.data("img-over");return d(),E},L=function(){var t=e('<div class="'+r.M+'"></div>');return t},C=function(i){function n(t){var i=A.length=C.length=k.length=E.length=0;O.find(r.k).each(function(){var n=parseInt(e(this).css("width"));if(!t){var o=e(this).prev(r.m),a=o[0]?parseInt(o.css("width")):0;A.push(a),i+=a,o=e(this).next(r.m),C.push(o[0]?parseInt(o.css("width")):0),k.push(i),E.push(i+n)}i+=n}),_=i}function c(){return n(!0),_}function u(t,i){n();var r=e(i),a=r.data("idx"),s=Math.round(v()),c=Math.round(O.scrollStart()),u=c+s,l=k[a],d=E[a];d-l>s&&c>=l&&d>=u||(c>l?(r.trigger(o.a),w(l),r.trigger(o.b)):d>u&&(r.trigger(o.a),w(d-s),r.trigger(o.b)))}function l(){n();var e=Math.round(O.scrollStart()),t=s.advanced.slideTolerance;if(e>t)for(var i=0;i<E.length;i++)if(E[i]+C[i]>=e-t)return w(k[i]),!0}function d(){n();var e=Math.round(v()),t=Math.round(O.scrollStart()+e),i=s.advanced.slideTolerance;if(_-i>t)for(var r=k.length-1;r>=0;r--)if(k[r]-A[r]<=t+i)return w(E[r]-e),!0}function h(){b(0)}function f(){n(),b(E[E.length-1]-v())}function g(){d()||h()}function v(){var e;return(e=x.closest(r.s))[0]?e.width():void 0}function w(e){var t;O.animatedScrollStart(e,(t=s._h).oau,t.oav)}function b(e){var t;O.animatedScrollStart(e,(t=s._h).aau,t.aav)}function y(e){if(s.slideWithMouseWheel){a.trigger(r.it),e=window.event||e;var t,i=e.originalEvent&&"undefined"!=typeof e.originalEvent.detail?-1:1,n="undefined"==typeof e.deltaX,o=n?e.wheelDeltaX:e.deltaX,c=n?e.wheelDeltaY:e.deltaY;t=Math.abs(c)>Math.abs(o)?Math.max(-1,Math.min(1,i*c)):Math.max(-1,Math.min(1,i*o))*(p()?-1:1),O.scrollStart(O.scrollStart()+t*s.advanced.mousewheelMultiplier),e.preventDefault()}}var x=e('<div id="'+r.C+'"></div>'),O=e('<div id="'+r.Q+'"></div>'),S=0,M=[],_=0,A=[],C=[],k=[],E=[];x.append(O),i.find("img").each(function(){var t=new B(e(this));t.attr("data-idx",S++),M.push(t)});for(var I=0;I<M.length;I++){if(0!=I){var R=new L;R.attr("data-img-before",I-1),R.attr("data-img-after",I),O.append(R)}O.append(M[I])}O.on({mousewheel:y,scroll:m}),O.on(r.ib,u),a.on(r.i5,l),a.on(r.i6,d),a.on(r.i7,h),a.on(r.i8,f),a.on(r.i9,g),t(O,s);var W=x[0];return W.totalWidth=c,x},k=l(),E=new x,I=new S,R=I[0],W=new C(k),D=new _;new O(I)}R.setViewport(W),R.setButtonsPane(D),a.append(I),a.addClass(r.f),this.pauseAutoslide=E.pauseAutoslide,this.restartAutoslide=E.restartAutoslide,this.slideLeft=E.slideLeft,this.slideRight=E.slideRight,this.slideLeftmost=E.slideLeftmost,this.slideRightmost=E.slideRightmost,this.slideNext=E.slideNext,this.slidePrev=E.slidePrev,this.slideFirst=E.slideFirst,this.slideLast=E.slideLast,this.changeOptions=h,this.forceResize=d,this.getObject=c,this.getDomObject=u,e(window).on("resize",d)}}(jQuery);