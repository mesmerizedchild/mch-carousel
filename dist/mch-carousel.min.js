/**
 * MCh Carousel 1.0
 *
 * Â© 2015 Roberto Giuntoli [rg@mesmerizedchild.eu]
 * More information at https://github.com/mesmerizedchild/mch-carousel/blob/master/README.md
 *
 * Dependencies:
 *   - jQuery 2 [https://jquery.com/]
 *   - plugin jQuery-mousewheel [https://github.com/jquery/jquery-mousewheel]
 * Licence:
 *   MIT
 *
 * @preserve
 */
!function(t){"use strict";function e(e,n){function o(i){return"undefined"==typeof i?s(t.fn.scrollLeft.apply(e)):t.fn.scrollLeft.apply(e,[s(i)])}function a(t,i,o){var a=i===r.p?1e3*Math.abs(e.scrollStart()-t)/o:o;e.stop(!0,!1).animate({scrollLeft:s(t)},a,n.slideEasingFunction)}function s(t){if(i(e))return t;var n=e[0];switch(c){case r.n:return-t;case r.w:return n.scrollWidth-t-n.clientWidth}return t}var c=function(){var e,i=t('<div dir="rtl" style="position: absolute; top: -1000px; font-size: 14px; width: 1px; height: 1px; overflow: scroll">A</div>').appendTo("body")[0];return i.scrollLeft>0?e=r.w:(i.scrollLeft=1,e=0===i.scrollLeft?r.n:r.r),t(i).remove(),e}();e.scrollStart=o,e.animatedScrollStart=a}function i(t){return"ltr"===t.css("direction")}"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(t){return-1!==this.indexOf(t,this.length-t.length)}),t.fn.mchCarousel=function(e){return this.each(function(){var i,n,o=t(this);o[0]&&!(i=o.data(r.f))&&(n=new s(o,e),o.data(r.f,n),o.prop("data-"+r.f,n))})};var n={automaticSlideOptions:{atStartup:!0,direction:null,pauseMs:3e3,pauseOnHoverImage:!0,pauseOnHoverButtons:!1},slideOneImageAnimation:"2000px/s",slideAllImagesAnimation:"3236px/s",slideEasingFunction:"swing",autoCenterOnHover:!0,displayButtons:"always",displayCaption:"always",captureArrowKeys:!1,captureArrowKeysOptions:{selector:"body"},slideWithMouseWheel:!0,advanced:{slideTolerance:5,mousewheelAutocentreInactivityMs:1e3,mousewheelMultiplier:40,divCleanup:!0}},r={f:"mch-carousel",p:"px/s",x:"px",a:"mch-invisible",h:"mch-no-hover",w:"default",n:"negative",r:"reverse",s:"#mch-visible-carousel",S:"mch-visible-carousel",c:"#mch-viewport",C:"mch-viewport",b:".mch-button",B:"mch-button",t:".mch-caption-cntnr",T:"mch-caption-cntnr",k:".mch-image-container",K:"mch-image-container",m:".mch-padding",M:"mch-padding",l:"#mch-image-list",L:"mch-image-list",Z:"mch-buttons-pane",Z1:"mch-slide-control-group",Z2:"mch-left-right-group",Z3:"mch-start-end-group",G:"mch-button-background",J:"mch-button-graphics",D:"mch-hyperlink",E:"mch-caption-lines",E0:"mch-caption-background",E1:"mch-caption-line1",E2:"mch-caption-line2",E3:"mch-caption-line3",F:"mch-image",Q:"mch-scrollable-viewport",R:"mch-navigation",O:"mch-slide-control",y:"#mch-dodgy-fix",Y:"mch-dodgy-fix",ia:"_mch-carousel:enter-image",ib:"_mch-carousel:auto-centre",ic:"_mch-carousel:leave-image",ie:"_mch-carousel:enter-carousel",ig:"_mch-carousel:leave-carousel",im:"_mch-carousel:options-changed",ix:"_mch-carousel:pause-auto-slide",iz:"_mch-carousel:restart-auto-slide",iy:"_mch-carousel:reschedule-auto-slide",it:"_mch-carousel:cancel-auto-slide",i1:"_mch-carousel:slide-left",i2:"_mch-carousel:slide-right",i3:"_mch-carousel:slide-leftmost",i4:"_mch-carousel:slide-rightmost",i5:"_mch-carousel:slide-prev",i6:"_mch-carousel:slide-next",i7:"_mch-carousel:slide-first",i8:"_mch-carousel:slide-last",i9:"_mch-carousel:auto-next"},o={p:"mch-carousel:enter-carousel",r:"mch-carousel:leave-carousel",c:"mch-carousel:before-slide-left",d:"mch-carousel:slide-left",e:"mch-carousel:before-slide-right",f:"mch-carousel:slide-right",g:"mch-carousel:before-slide-leftmost",h:"mch-carousel:slide-leftmost",i:"mch-carousel:before-slide-rightmost",j:"mch-carousel:slide-rightmost",C:"mch-carousel:before-slide-prev",D:"mch-carousel:slide-prev",E:"mch-carousel:before-slide-next",F:"mch-carousel:slide-next",G:"mch-carousel:before-slide-first",H:"mch-carousel:slide-first",I:"mch-carousel:before-slide-last",J:"mch-carousel:slide-last",a:"mch-carousel:before-autocentre-image",b:"mch-carousel:autocentre-image",k:"mch-carousel:click-image",l:"mch-carousel:enter-image",n:"mch-carousel:leave-image",u:"mch-carousel:click-button",s:"mch-carousel:enter-button",t:"mch-carousel:leave-button"},a=t.fn.mchCarousel.eventNames=[];t.each(o,function(t,e){a.push(e)}),t.fn.mchCarousel.defaultOptions=n;var s=function(a,s){function c(){return a}function u(){return a[0]}function l(t){N[0].getViewport().find(".mch-image-container").each(t)}function d(t){N[0].getViewport().find(".mch-image-container img").each(t)}function h(t){return N[0].getViewport().find(t)}function f(t){return N[0].getViewport().find(t)}function g(){var e=t('<div id="'+r.L+'"></div>');return a.find("img").each(function(){e.append(this)}),s.advanced.divCleanup&&a.html(""),a.append(e),e}function m(){z.carouselResized()}function p(e){a.find(r.c+","+r.k).each(function(){t(this).css("height",e)})}function v(){return t.extend(!0,{},s)}function w(e){s=t.extend(!0,{},s,e),b(),a.trigger(r.im)}function b(){var t=s._h||(s._h={}),e=s.slideOneImageAnimation,i=s.slideAllImagesAnimation;t.oau=e?e.endsWith(r.x)||e.endsWith(r.p)?r.p:"ms":"1000px",t.oav=e?parseInt(e):500,t.aau=i?i.endsWith(r.x)||i.endsWith(r.p)?r.p:"ms":"1618px",t.aav=i?parseInt(i):1500}function y(){switch(s.automaticSlideOptions.direction){case"ltr":return!0;case"rtl":return!1}return i(a)}function x(){a.trigger(r.iy)}function O(t){t.addClass(r.a)}function S(t){t.removeClass(r.a)}function _(t){t.removeClass(r.h)}function k(t){t.addClass(r.h)}s=t.extend(!0,{},n,s),b();{var C=function(t,e){function i(){u||null!==c||(c=window.setTimeout(function(){t(),c=null},l()))}function n(){c&&window.clearTimeout(c),c=null}function r(){n(),i()}function o(){u=!0,n()}function a(){u=!1,r()}function s(){return u}var c=null,u=!1,l="function"==typeof e?e:function(){return e};this.schedule=i,this.cancel=n,this.reschedule=r,this.pause=o,this.restart=a,this.isPaused=s},M=function(){function t(){a.trigger(r.ix)}function e(){a.trigger(r.iz)}function i(){x(),a.trigger(r.i1)}function n(){x(),a.trigger(r.i2)}function o(){x(),a.trigger(r.i3)}function s(){x(),a.trigger(r.i4)}function c(){x(),a.trigger(r.i5)}function u(){a.trigger(r.i6)}function l(){x(),a.trigger(r.i7)}function d(){x(),a.trigger(r.i8)}this.pauseAutoslide=t,this.restartAutoslide=e,this.slideLeft=i,this.slideRight=n,this.slideLeftmost=o,this.slideRightmost=s,this.slidePrev=c,this.slideNext=u,this.slideFirst=l,this.slideLast=d},A=function(t){function e(){t.is(":visible")&&a.trigger(r.i9),d.schedule()}function i(){s.automaticSlideOptions.pauseOnHoverImage&&d.cancel()}function n(){s.automaticSlideOptions.pauseOnHoverImage&&d.schedule()}function c(){s.automaticSlideOptions.pauseOnHoverButtons&&d.cancel()}function u(){s.automaticSlideOptions.pauseOnHoverButtons&&d.schedule()}function l(){}var d=new C(e,function(){return s.automaticSlideOptions.pauseMs});a.on(r.ix,function(){d.pause()}),a.on(r.iz,function(){d.restart()}),a.on(r.iy,function(){d.reschedule()}),a.on(r.it,function(){d.cancel()}),a.on(r.ia,i),a.on(r.ic,n),a.on(o.s,c),a.on(o.t,u),a.on(r.im,l),s.automaticSlideOptions.atStartup?d.schedule():d.pause()},B=function(){function e(t){O&&(O.off("mousewheel",v),O.remove()),(O=t)&&(S.prepend(O),O.on({mousewheel:v}))}function i(){return O}function n(t){y&&y.remove(),S.append(y=t)}function c(){return y}function l(e){b()&&t(e.target).trigger(r.ib,e.target)}function d(){if(s.captureArrowKeys){var e=t(s.captureArrowKeysOptions.selector),i=function(t){O&&(37===t.keyCode?H.slideLeft():39===t.keyCode&&H.slideRight())};if(e[0]){e.on("keydown",i);var n;(n=s._h).cD=e[0],n.cF=i}}}function h(){var e;(e=s._h).cD&&(t(e.cD).off("keydown",e.cF),e.cD=null)}function f(){h(),g(),d()}function g(){y&&("never"!==s.displayButtons&&S.width()<O[0].totalWidth()?y[0].showNavigationButtons():y[0].hideNavigationButtons())}function m(){a.trigger(r.ie),a.trigger(o.p,u())}function p(){a.trigger(r.ig),a.trigger(o.r,u())}function v(){_=!0,k.reschedule()}function w(){_=!1,x()}function b(){return s.autoCenterOnHover&&!_}var y,O,S=t('<div id="'+r.S+'"></div>'),_=!1,k=new C(w,function(){return s.advanced.mousewheelAutocentreInactivityMs});S.on({mouseenter:m,mouseleave:p}),S.on(r.ia,l),a.on(r.im,f),f();var M=S[0];return M.carouselResized=g,M.setViewport=e,M.getViewport=i,M.setButtonsPane=n,M.getButtonsPane=c,S},L=function(e){function i(t){u.append(t)}function n(){switch(s.displayButtons){case"hover":k(u),S(u);break;case"never":O(u);break;default:_(u),S(u)}}function o(){"hover"===s.displayButtons&&_(u)}function c(){"hover"===s.displayButtons&&k(u)}var u=t('<div id="'+e+'"></div>');a.on(r.ie,o),a.on(r.ig,c),a.on(r.im,n),n();var l=u[0];return l.addButton=i,u},I=function(){function e(){S(u),S(l)}function i(){O(u),O(l)}function n(t){c[0].addButton(t)}function o(t){u[0].addButton(t)}function a(t){l[0].addButton(t)}var s=t('<div id="'+r.Z+'"></div>'),c=new L(r.Z1),u=new L(r.Z2),l=new L(r.Z3);n(new E("mch-pause","sc",H.pauseAutoslide)),n(new E("mch-restart","sc",H.restartAutoslide)),o(new E("mch-leftmost","nlr",H.slideLeftmost)),o(new E("mch-left","nlr",H.slideLeft)),o(new E("mch-right","nlr",H.slideRight)),o(new E("mch-rightmost","nlr",H.slideRightmost)),a(new E("mch-first","nse",H.slideFirst)),a(new E("mch-prev","nse",H.slidePrev)),a(new E("mch-next","nse",H.slideNext)),a(new E("mch-last","nse",H.slideLast)),s.append(c).append(u).append(l);var d=s[0];return d.showNavigationButtons=e,d.hideNavigationButtons=i,s},E=function(e,i,n){function a(){l.trigger(o.u),n()}function s(){l.trigger(o.s)}function c(){l.trigger(o.t)}function u(t){t.preventDefault()}var l=t('<div class="'+r.B+" "+("sc"===i?r.O:r.R)+'" id="'+e+'"><div class="'+r.G+'"></div><div class="'+r.J+'"></div></div>');return l.on({click:a,dblclick:u,mouseenter:s,mouseleave:c}),l[0].onselectstart=u,l},R=function(e){function i(){W&&R.prop("src",b),u(),E.trigger(r.ia),E.trigger(o.l)}function n(){W&&R.prop("src",v),l(),E.trigger(r.ic),E.trigger(o.n)}function c(){E.trigger(o.k)}function u(){g&&"hover"===d()&&_(g)}function l(){g&&"hover"===d()&&k(g)}function d(){var t;return(t=R.data("caption-display"))?t:s.displayCaption}function h(){if(g)switch(d()){case"hover":k(g),S(g);break;case"never":O(g);break;default:_(g),S(g)}}var f,g,m=e.attr("id"),p=e.attr("class"),v=e.attr("src"),w=e.attr("alt"),b=e.data("img-over"),y=e.data("caption-display"),x=e.data("data"),C=e.data("caption-lang"),M=e.data("caption-line1"),A=e.data("caption-line2"),B=e.data("caption-line3"),L=e.data("link"),I=e.data("open-in-new-window"),E=t('<div class="'+r.K+(p?" "+p:"")+'"'+(m?' id="'+m+'"':"")+(x?' data-data="'+x+'"':"")+"></div>");L?E.append(f=t('<a class="'+r.D+'" href="'+L+'"'+(I?' target="_blank"':"")+"></a>")):f=E,(M||A||B)&&(g=t('<div class="'+r.T+'"><div class="'+r.E0+'"></div><div class="'+r.E+'"'+(C?' lang="'+C+'"':"")+">"+(M?'<div class="'+r.E1+'"><p>'+M+"</p></div>":"")+(A?'<div class="'+r.E2+'"><p>'+A+"</p></div>":"")+(B?'<div class="'+r.E3+'"><p>'+B+"</p></div>":"")+"</div></div>"),f.append(g)),f.append('<img class="'+r.F+'" src="'+v+'" data-src="'+v+'" '+(w?' alt="'+w+'" ':"")+(b?' data-img-over="'+b+'" ':"")+(y?' data-caption-display="'+y+'" ':"")+"></img>"),E.on({mouseenter:i,mouseleave:n,click:c}),a.on(r.im,h);var R=E.find("img"),W=!!R.data("img-over");return h(),E},W=function(){var e=t('<div class="'+r.M+'"></div>');return e},F=function(i){function n(){var t,e;return B(),(t=y())?(z(),e=w()):(T(),e=b()),L(),t?P():Z(),e}function c(){var t,e;return I(),(t=y())?(T(),e=b()):(z(),e=w()),E(),t?Z():P(),e}function u(){var t,e;return F(),(t=y())?(V(),e=O()):(j(),e=S()),D(),t?K():G(),e}function l(){var t,e;return H(),(t=y())?(j(),e=S()):(V(),e=O()),N(),t?G():K(),e}function d(){var t,e;return(t=y())?B():I(),z(),e=w(),(t=y())?L():E(),P(),e}function h(){var t,e;return(t=y())?I():B(),T(),e=b(),(t=y())?E():L(),Z(),e}function f(){var t,e;return(t=y())?F():H(),V(),e=O(),(t=y())?D():N(),K(),e}function g(){var t,e;return(t=y())?H():F(),j(),e=S(),(t=y())?N():D(),G(),e}function m(e){var i=U.length=$.length=te.length=ee.length=0;Q.find(r.k).each(function(){var n=parseInt(t(this).css("width"));if(!e){var o=t(this).prev(r.m),a=o[0]?parseInt(o.css("width")):0;U.push(a),i+=a,o=t(this).next(r.m),$.push(o[0]?parseInt(o.css("width")):0),te.push(i),ee.push(i+n)}i+=n}),q=i}function p(){return m(!0),q}function v(e,i){m();var n=t(i),r=n.data("idx"),a=Math.round(k()),s=Math.round(Q.scrollStart()),c=s+a,u=te[r],l=ee[r];l-u>a&&s>=u&&l>=c||(s>u?(n.trigger(o.a,i),C(u),n.trigger(o.b,i)):l>c&&(n.trigger(o.a,i),C(l-a),n.trigger(o.b,i)))}function w(){m();var t=Math.round(Q.scrollStart()),e=s.advanced.slideTolerance;if(t>e)for(var i=0;i<ee.length;i++)if(ee[i]+$[i]>=t-e)return C(te[i]),!0}function b(){m();var t=Math.round(k()),e=Math.round(Q.scrollStart()+t),i=s.advanced.slideTolerance;if(q-i>e)for(var n=te.length-1;n>=0;n--)if(te[n]-U[n]<=e+i)return C(ee[n]-t),!0}function O(){M(0)}function S(){m(),M(ee[ee.length-1]-k())}function _(){h()||f()}function k(){var t;return(t=J.closest(r.s))[0]?t.width():void 0}function C(t){var e;Q.animatedScrollStart(t,(e=s._h).oau,e.oav)}function M(t){var e;Q.animatedScrollStart(t,(e=s._h).aau,e.aav)}function A(t){if(s.slideWithMouseWheel){a.trigger(r.it);var e,i=t.originalEvent&&"undefined"!=typeof t.originalEvent.detail?-1:1,n=t.deltaX,o=t.deltaY;e=Math.abs(o)>Math.abs(n)?Math.max(-1,Math.min(1,i*o)):Math.max(-1,Math.min(1,i*n))*(y()?-1:1),Q.scrollStart(Q.scrollStart()+e*s.advanced.mousewheelMultiplier),t.preventDefault()}}function B(){Q.trigger(o.c)}function L(){Q.trigger(o.d)}function I(){Q.trigger(o.e)}function E(){Q.trigger(o.f)}function F(){Q.trigger(o.g)}function D(){Q.trigger(o.h)}function H(){Q.trigger(o.i)}function N(){Q.trigger(o.j)}function z(){Q.trigger(o.C)}function P(){Q.trigger(o.D)}function T(){Q.trigger(o.E)}function Z(){Q.trigger(o.F)}function V(){Q.trigger(o.G)}function K(){Q.trigger(o.H)}function j(){Q.trigger(o.I)}function G(){Q.trigger(o.J)}var J=t('<div id="'+r.C+'"></div>'),Q=t('<div id="'+r.Q+'"></div>'),Y=0,X=[],q=0,U=[],$=[],te=[],ee=[];J.append(Q),i.find("img").each(function(){var e=new R(t(this));e.attr("data-idx",Y++),X.push(e)});for(var ie=0;ie<X.length;ie++){if(0!==ie){var ne=new W;ne.attr("data-img-before",ie-1),ne.attr("data-img-after",ie),Q.append(ne)}Q.append(X[ie])}Q.on({mousewheel:A,scroll:x}),Q.on(r.ib,v),a.on(r.i1,n),a.on(r.i2,c),a.on(r.i3,u),a.on(r.i4,l),a.on(r.i5,d),a.on(r.i6,h),a.on(r.i7,f),a.on(r.i8,g),a.on(r.i9,_),e(Q,s);var re=J[0];return re.totalWidth=p,J},D=g(),H=new M,N=new B,z=N[0],P=new F(D),T=new I;new A(N)}z.setViewport(P),z.setButtonsPane(T),a.append(N),a.addClass(r.f),this.pauseAutoslide=H.pauseAutoslide,this.restartAutoslide=H.restartAutoslide,this.slideLeft=H.slideLeft,this.slideRight=H.slideRight,this.slideLeftmost=H.slideLeftmost,this.slideRightmost=H.slideRightmost,this.slideNext=H.slideNext,this.slidePrev=H.slidePrev,this.slideFirst=H.slideFirst,this.slideLast=H.slideLast,this.getCurrentOptions=v,this.changeOptions=w,this.setHeight=p,this.forceResize=m,this.getObject=c,this.getDomObject=u,this.eachImageContainer=l,this.eachImage=d,this.findImageContainer=h,this.findImage=f,t(window).on("resize",m)}}(jQuery);