/**
 * MCh Carousel 1.0
 *
 * Â© 2015 Roberto Giuntoli [rg@mesmerizedchild.eu]
 * More information at https://github.com/mesmerizedchild/mch-carousel/blob/master/README.md
 *
 * Dependencies:
 *   - jQuery 2 [https://jquery.com/]
 *   - plugin jQuery-mousewheel [https://github.com/jquery/jquery-mousewheel]
 * Licence:
 *   MIT
 *
 * @preserve
 */
!function(t){"use strict";function e(e,i){function s(n){return"undefined"==typeof n?r(t.fn.scrollLeft.apply(e)):t.fn.scrollLeft.apply(e,[r(n)])}function a(t,n,s){var a=n===o.p?1e3*Math.abs(e.scrollStart()-t)/s:s;e.stop(!0,!1).animate({scrollLeft:r(t)},a,i.slideEasingFunction)}function r(t){if(n(e))return t;var i=e[0];switch(c){case o.n:return-t;case o.w:return i.scrollWidth-t-i.clientWidth}return t}var c=function(){var e,n=t('<div dir="rtl" style="position: absolute; top: -1000px; font-size: 14px; width: 1px; height: 1px; overflow: scroll">A</div>').appendTo("body")[0];return n.scrollLeft>0?e=o.w:(n.scrollLeft=1,e=0===n.scrollLeft?o.n:o.r),t(n).remove(),e}();e.scrollStart=s,e.animatedScrollStart=a}function n(t){return"ltr"===t.css("direction")}"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(t){return-1!==this.indexOf(t,this.length-t.length)}),t.fn.mchCarousel=function(e){var n=[];switch(t(this).each(function(){var i,s,a=t(this);if(a[0]){if(i=a.data(o.f))return void n.push(i);s=new r(a,e),a.data(o.f,s),n.push(s)}}),n.length){case 0:return void 0;case 1:return n[0]}return n};var i={slideAutomatically:!0,slideAutomaticallyOptions:{direction:null,pauseMs:3e3,pauseOnHoverImage:!0,pauseOnHoverButtons:!1},slideOneImageAnimation:"2000px/s",slideAllImagesAnimation:"3236px/s",slideEasingFunction:"swing",autoCenterOnHover:!0,displayButtons:!0,displayButtonsOptions:{when:"hover"},displayCaption:!0,displayCaptionOptions:{when:"hover"},captureArrowKeys:!0,captureArrowKeysOptions:{selector:"body"},slideWithMouseWheel:!0,advanced:{slideTolerance:5,mousewheelAutocentreInactivityMs:1e3,mousewheelMultiplier:40,divCleanup:!0}},o={f:"mch-carousel",p:"px/s",x:"px",a:"mch-invisible",h:"mch-no-hover",w:"default",n:"negative",r:"reverse",s:"#mch-visible-carousel",S:"mch-visible-carousel",c:"#mch-viewport",C:"mch-viewport",b:".mch-button",B:"mch-button",t:".mch-caption-cntnr",T:"mch-caption-cntnr",k:".mch-image-container",K:"mch-image-container",m:".mch-padding",M:"mch-padding",l:"#mch-image-list",L:"mch-image-list",Z:"mch-buttons-pane",Z1:"mch-slide-control-group",Z2:"mch-left-right-group",Z3:"mch-start-end-group",G:"mch-button-background",J:"mch-button-graphics",D:"mch-hyperlink",E:"mch-caption-lines",E0:"mch-caption-background",E1:"mch-caption-line1",E2:"mch-caption-line2",E3:"mch-caption-line3",F:"mch-image",Q:"mch-scrollable-viewport",R:"mch-navigation",O:"mch-slide-control",ia:"_mch-carousel:enter-image",ib:"_mch-carousel:auto-centre",ic:"_mch-carousel:leave-image",ix:"_mch-carousel:pause-auto-slide",iz:"_mch-carousel:restart-auto-slide",iy:"_mch-carousel:reschedule-auto-slide",it:"_mch-carousel:cancel-auto-slide",i5:"_mch-carousel:slide-prev",i6:"_mch-carousel:slide-next",i7:"_mch-carousel:slide-first",i8:"_mch-carousel:slide-last",i9:"_mch-carousel:auto-next"},s={p:"mch-carousel:enter-carousel",r:"mch-carousel:leave-carousel",c:"mch-carousel:before-slide-left",d:"mch-carousel:slide-left",e:"mch-carousel:before-slide-right",f:"mch-carousel:slide-right",g:"mch-carousel:before-slide-leftmost",h:"mch-carousel:slide-leftmost",i:"mch-carousel:before-slide-rightmost",j:"mch-carousel:slide-rightmost",C:"mch-carousel:before-slide-prev",D:"mch-carousel:slide-prev",E:"mch-carousel:before-slide-next",F:"mch-carousel:slide-next",G:"mch-carousel:before-slide-first",H:"mch-carousel:slide-first",I:"mch-carousel:before-slide-last",J:"mch-carousel:slide-last",a:"mch-carousel:before-autocentre-image",b:"mch-carousel:autocentre-image",l:"mch-carousel:enter-image",n:"mch-carousel:leave-image",s:"mch-carousel:enter-button",t:"mch-carousel:leave-button"},a=t.fn.mchCarousel.eventNames=[];t.each(s,function(t,e){a.push(e)}),t.fn.mchCarousel.defaultOptions=i;var r=function(a,r){function c(){return a}function u(){return a[0]}function l(){var e=t('<div id="'+o.L+'"></div>');return a.find("img").each(function(){e.append(this)}),r.advanced.divCleanup&&a.html(""),a.append(e),e}function d(){S.carouselResized()}function h(e){r=t.extend(!0,{},r,e),f(),S.optionsChanged()}function f(){var t=r._h||(r._h={}),e=r.slideOneImageAnimation,n=r.slideAllImagesAnimation;t.oau=e?e.endsWith(o.x)||e.endsWith(o.p)?o.p:"ms":"1000px",t.oav=e?parseInt(e):500,t.aau=n?n.endsWith(o.x)||n.endsWith(o.p)?o.p:"ms":"1609px",t.aav=n?parseInt(n):1500}function p(){switch(r.slideAutomaticallyOptions.direction){case"ltr":return!0;case"rtl":return!1}return n(a)}function v(){a.trigger(o.iy)}r=t.extend(!0,{},i,r),f();{var g=function(t,e){function n(){u||(c=window.setTimeout(t,l()))}function i(){c&&window.clearTimeout(c),c=null}function o(){i(),n()}function s(){u=!0,i()}function a(){u=!1,o()}function r(){return u}var c=null,u=!1,l="function"==typeof e?e:function(){return e};this.schedule=n,this.cancel=i,this.reschedule=o,this.pause=s,this.restart=a,this.isPaused=r},m=function(){function t(){a.trigger(o.ix)}function e(){a.trigger(o.iz)}function n(){var t;v(),f(),(t=p())?(A(),H()):(M(),R()),g(),t?B():O()}function i(){var t;v(),m(),(t=p())?(M(),R()):(A(),H()),w(),t?O():B()}function r(){var t;v(),y(),(t=p())?(L(),E()):(_(),W()),C(),t?S():I()}function c(){var t;v(),b(),(t=p())?(_(),W()):(L(),E()),x(),t?I():S()}function u(){var t;v(),(t=p())?f():m(),A(),H(),(t=p())?g():w(),B()}function l(){var t;v(),(t=p())?m():f(),M(),R(),(t=p())?w():g(),O()}function d(){var t;v(),(t=p())?y():b(),L(),E(),(t=p())?C():x(),S()}function h(){var t;v(),(t=p())?b():y(),_(),W(),(t=p())?x():C(),I()}function f(){a.trigger(s.c)}function g(){a.trigger(s.d)}function m(){a.trigger(s.e)}function w(){a.trigger(s.f)}function y(){a.trigger(s.g)}function C(){a.trigger(s.h)}function b(){a.trigger(s.i)}function x(){a.trigger(s.j)}function A(){a.trigger(s.C)}function B(){a.trigger(s.D)}function M(){a.trigger(s.E)}function O(){a.trigger(s.F)}function L(){a.trigger(s.G)}function S(){a.trigger(s.H)}function _(){a.trigger(s.I)}function I(){a.trigger(s.J)}function E(){a.trigger(o.i7)}function H(){a.trigger(o.i5)}function R(){a.trigger(o.i6)}function W(){a.trigger(o.i8)}this.pauseAutoslide=t,this.restartAutoslide=e,this.slideLeft=n,this.slideRight=i,this.slideLeftmost=r,this.slideRightmost=c,this.slidePrev=u,this.slideNext=l,this.slideFirst=d,this.slideLast=h},w=function(t){function e(){r.slideAutomatically&&n.canAutoSlide()&&a.trigger(o.i9),i.schedule()}var n=t[0],i=new g(e,function(){return r.slideAutomaticallyOptions.pauseMs});a.on(o.ix,function(){i.pause()}),a.on(o.iz,function(){i.restart()}),a.on(o.iy,function(){i.reschedule()}),a.on(o.it,function(){i.cancel()}),i.schedule()},y=function(){function e(t){x&&(x.off("mousewheel",m),x.remove()),(x=t)&&(A.prepend(x),x.on({mousewheel:m}))}function n(){return x}function i(t){b&&b.remove(),A.append(b=t)}function a(){return b}function c(e){y()&&t(e.target).trigger(o.ib,e.target)}function u(){if(r.captureArrowKeys){var e=t(r.captureArrowKeysOptions.selector),n=function(t){x&&(37===t.keyCode?O.slideLeft():39===t.keyCode&&O.slideRight())};if(e[0]){e.on("keydown",n);var i;(i=r._h).cD=e[0],i.cF=n}}}function l(){var e;(e=r._h).cD&&(t(e.cD).off("keydown",e.cF),e.cD=null)}function d(){l(),h(),u(),x&&x[0].optionsChanged(),b&&b[0].optionsChanged()}function h(){b&&(r.displayButtons&&A.width()<x[0].totalWidth()?b[0].showNavigationButtons():b[0].hideNavigationButtons())}function f(){b&&b[0].hoverButtons(),A.trigger(s.p)}function p(){b&&b[0].unhoverButtons(),A.trigger(s.r)}function m(){B=!0,M.reschedule()}function w(){B=!1,v()}function y(){return r.autoCenterOnHover&&!B}function C(){return!(!A.is(":visible")||b&&b[0].isMouseHoveringButtons()&&r.slideAutomaticallyOptions.pauseOnHoverButtons||x&&x[0].isMouseHoveringImages()&&r.slideAutomaticallyOptions.pauseOnHoverImage)}var b,x,A=t('<div id="'+o.S+'"></div>'),B=!1,M=new g(w,function(){return r.advanced.mousewheelAutocentreInactivityMs});A.on({mouseenter:f,mouseleave:p}),A.on(o.ia,c),u();var L=A[0];return L.carouselResized=h,L.optionsChanged=d,L.setViewport=e,L.getViewport=n,L.setButtonsPane=i,L.getButtonsPane=a,L.canAutoSlide=C,A},C=function(){function e(t){y.append(t),c(),s(t)}function n(t){C.append(t),s(t)}function i(t){x.append(t),s(t)}function s(t){A.push(t),t.on({mouseenter:v,mouseleave:g})}function a(){t.each(A,function(){t(this)[0].optionsChanged()}),c()}function c(){r.slideAutomatically?d():h()}function u(){C.removeClass(o.a),x.removeClass(o.a)}function l(){C.addClass(o.a),x.addClass(o.a)}function d(){y.removeClass(o.a)}function h(){y.addClass(o.a)}function f(){t.each(A,function(){t(this)[0].buttonHover()})}function p(){t.each(A,function(){t(this)[0].buttonUnhover()})}function v(){B=!0}function g(){B=!1}function m(){return B}var w=t('<div id="'+o.Z+'"></div>'),y=t('<div id="'+o.Z1+'"></div>'),C=t('<div id="'+o.Z2+'"></div>'),x=t('<div id="'+o.Z3+'"></div>'),A=[],B=!1;e(new b("mch-pause","sc",O.pauseAutoslide)),e(new b("mch-restart","sc",O.restartAutoslide)),n(new b("mch-leftmost","nlr",O.slideLeftmost)),n(new b("mch-left","nlr",O.slideLeft)),n(new b("mch-right","nlr",O.slideRight)),n(new b("mch-rightmost","nlr",O.slideRightmost)),i(new b("mch-first","nse",O.slideFirst)),i(new b("mch-prev","nse",O.slidePrev)),i(new b("mch-next","nse",O.slideNext)),i(new b("mch-last","nse",O.slideLast)),w.append(y).append(C).append(x);var M=w[0];return M.optionsChanged=a,M.showNavigationButtons=u,M.hideNavigationButtons=l,M.showSlideControlButtons=d,M.hideSlideControlButtons=h,M.hoverButtons=f,M.unhoverButtons=p,M.isMouseHoveringButtons=m,w},b=function(e,n,i){function a(){return"nlr"===n||"nse"===n}function c(){m.trigger(s.s)}function u(){m.trigger(s.t)}function l(){h()&&m.removeClass(o.h)}function d(){h()&&m.addClass(o.h)}function h(){return r.displayButtons&&"hover"===r.displayButtonsOptions.when}function f(){m.removeClass(o.a)}function p(){m.addClass(o.a)}function v(){}function g(t){t.preventDefault()}var m=t('<div class="'+o.B+" "+("sc"===n?o.O:o.R)+(h()?" "+o.h:"")+'" id="'+e+'"><div class="'+o.G+'"></div><div class="'+o.J+'"></div></div>');m.on({click:i,dblclick:g,mouseenter:c,mouseleave:u}),m[0].onselectstart=g;var w=m[0];return w.buttonHover=l,w.buttonUnhover=d,w.showButton=f,w.hideButton=p,w.optionsChanged=v,w.isNavigation=a,m},x=function(e,n){function i(){_&&L.prop("src",m),S&&u()&&S.removeClass(o.h),O.trigger(o.ia),O.trigger(s.l)}function a(){_&&L.prop("src",v),c(),O.trigger(o.ic),O.trigger(s.n)}function c(){S&&u()&&S.addClass(o.h)}function u(){var t;return L&&(t=L.data("caption-display"))?"hover"===t:r.displayCaption&&"hover"===r.displayCaptionOptions.when}function l(){h&&(r.displayCaption?h.removeClass(o.a):h.addClass(o.a))}var d,h,f=e.prop("id"),p=e.prop("class"),v=e.prop("src"),g=e.prop("alt"),m=e.data("img-over"),w=e.data("caption-display"),y=e.data("data"),C=e.data("caption-lang"),b=e.data("caption-line1"),x=e.data("caption-line2"),A=e.data("caption-line3"),B=e.data("link"),M=e.data("open-in-new-window"),O=t('<div class="'+o.K+(p?" "+p:"")+'" data-idx="'+n+'"'+(f?' id="'+f+'"':"")+(y?' data-data="'+y+'"':"")+"></div>");B?O.append(d=t('<a class="'+o.D+'" href="'+B+'"'+(M?' target="_blank"':"")+"></a>")):d=O,(b||x||A)&&(h=t('<div class="'+o.T+'"><div class="'+o.E0+'"></div><div class="'+o.E+'"'+(C?' lang="'+C+'"':"")+">"+(b?'<div class="'+o.E1+'"><p>'+b+"</p></div>":"")+(x?'<div class="'+o.E2+'"><p>'+x+"</p></div>":"")+(A?'<div class="'+o.E3+'"><p>'+A+"</p></div>":"")+"</div></div>"),d.append(h)),d.append('<img class="'+o.F+'" src="'+v+'" data-src="'+v+'" '+(g?' alt="'+g+'" ':"")+(m?' data-img-over="'+m+'" ':"")+(w?' data-caption-display="'+w+'" ':"")+"></img>"),O.on({mouseenter:i,mouseleave:a});var L=O.find("img"),S=O.find(o.t),_=!!L.data("img-over");c();var I=O[0];return I.optionsChanged=l,O},A=function(){function e(){}var n=t('<div class="'+o.M+'"></div>'),i=n[0];return i.optionsChanged=e,n},B=function(n){function i(){t.each(I,function(t,e){e.optionsChanged()}),t.each(E,function(t,e){e.optionsChanged()})}function c(e){var n=W.length=k.length=D.length=F.length=0;S.find(o.k).each(function(){var i=parseInt(t(this).css("width"));if(!e){var s=t(this).prev(o.m),a=s[0]?parseInt(s.css("width")):0;W.push(a),n+=a,s=t(this).next(o.m),k.push(s[0]?parseInt(s.css("width")):0),D.push(n),F.push(n+i)}n+=i}),R=n}function u(){return c(!0),R}function l(){H=!0}function d(){H=!1,v()}function h(e,n){c();var i=t(n),o=i.data("idx"),a=Math.round(b()),r=Math.round(S.scrollStart()),u=r+a,l=D[o],d=F[o];d-l>a&&r>=l&&d>=u||(r>l?(i.trigger(s.a),B(l),i.trigger(s.b)):d>u&&(i.trigger(s.a),B(d-a),i.trigger(s.b)))}function f(){return H}function g(){c();var t=Math.round(S.scrollStart()),e=r.advanced.slideTolerance;if(t>e)for(var n=0;n<F.length;n++)if(F[n]+k[n]>=t-e)return B(D[n]),!0}function m(){c();var t=Math.round(b()),e=Math.round(S.scrollStart()+t),n=r.advanced.slideTolerance;if(R-n>e)for(var i=D.length-1;i>=0;i--)if(D[i]-W[i]<=e+n)return B(F[i]-t),!0}function w(){M(0)}function y(){c(),M(F[F.length-1]-b())}function C(){m()||w()}function b(){var t;return(t=L.closest(o.s))[0]?t.width():void 0}function B(t){var e;S.animatedScrollStart(t,(e=r._h).oau,e.oav)}function M(t){var e;S.animatedScrollStart(t,(e=r._h).aau,e.aav)}function O(t){if(r.slideWithMouseWheel){a.trigger(o.it),t=window.event||t;var e,n=t.originalEvent&&"undefined"!=typeof t.originalEvent.detail?-1:1,i="undefined"==typeof t.deltaX,s=i?t.wheelDeltaX:t.deltaX,c=i?t.wheelDeltaY:t.deltaY;e=Math.abs(c)>Math.abs(s)?Math.max(-1,Math.min(1,n*c)):Math.max(-1,Math.min(1,n*s))*(p()?-1:1),S.scrollStart(S.scrollStart()+e*r.advanced.mousewheelMultiplier),t.preventDefault()}}var L=t('<div id="'+o.C+'"></div>'),S=t('<div id="'+o.Q+'"></div>'),_=0,I=[],E=[],H=!1,R=0,W=[],k=[],D=[],F=[];L.append(S),n.find("img").each(function(){var e=new x(t(this),_++);e.on({mouseenter:l,mouseleave:d}),I.push(e)});for(var N=0;N<I.length;N++)0!=N&&S.append(new A),S.append(I[N]);S.on({mousewheel:O,scroll:v}),S.on(o.ib,h),a.on(o.i5,g),a.on(o.i6,m),a.on(o.i7,w),a.on(o.i8,y),a.on(o.i9,C),e(S,r);var z=L[0];return z.totalWidth=u,z.optionsChanged=i,z.isMouseHoveringImages=f,L},M=l(),O=new m,L=new y,S=L[0],_=new B(M),I=new C;new w(L)}S.setViewport(_),S.setButtonsPane(I),a.append(L),a.addClass(o.f),this.pauseAutoslide=O.pauseAutoslide,this.restartAutoslide=O.restartAutoslide,this.slideLeft=O.slideLeft,this.slideRight=O.slideRight,this.slideLeftmost=O.slideLeftmost,this.slideRightmost=O.slideRightmost,this.slideNext=O.slideNext,this.slidePrev=O.slidePrev,this.slideFirst=O.slideFirst,this.slideLast=O.slideLast,this.changeOptions=h,this.forceResize=d,this.getObject=c,this.getDomObject=u,t(window).on("resize",d)}}(jQuery);