/**
 * MCh Carousel 1.0
 * 
 * Â© 2015 Roberto Giuntoli [rg@mesmerizedchild.eu] 
 * More information at https://github.com/mesmerizedchild/mch-carousel/blob/master/README.md
 *
 * Dependencies:
 *   - jQuery 2 [https://jquery.com/]
 *   - plugin jQuery-mousewheel [https://github.com/jquery/jquery-mousewheel] 
 * Licence:
 *   MIT
 *
 * @preserve 
 */
"use strict";!function(t){function e(e,i){function s(n){return"undefined"==typeof n?a(t.fn.scrollLeft.apply(e)):t.fn.scrollLeft.apply(e,[a(n)])}function r(t,n,s){var r=n===o.p?1e3*Math.abs(e.scrollStart()-t)/s:s;e.stop(!0,!1).animate({scrollLeft:a(t)},r,i.slideEasingFunction)}function a(t){if(n(e))return t;var i=e[0];switch(c){case o.n:return-t;case o.w:return i.scrollWidth-t-i.clientWidth}return t}var c=function(){var e,n=t('<div dir="rtl" style="position: absolute; top: -1000px; font-size: 14px; width: 1px; height: 1px; overflow: scroll">A</div>').appendTo("body")[0];return n.scrollLeft>0?e=o.w:(n.scrollLeft=1,e=0===n.scrollLeft?o.n:o.r),t(n).remove(),e}();e.scrollStart=s,e.animatedScrollStart=r}function n(t){return"ltr"===t.css("direction")}"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(t){return-1!==this.indexOf(t,this.length-t.length)}),t.fn.mchCarousel=function(e){var n=[];switch(t(this).each(function(){var i,s,r=t(this);if(r[0]){if(i=r.data(o.f))return void n.push(i);s=new a(r,e),r.data(o.f,s),n.push(s)}}),n.length){case 0:return void 0;case 1:return n[0]}return n};var i={slideAutomatically:!0,slideAutomaticallyOptions:{direction:null,pauseMs:3e3,pauseOnHoverImage:!0,pauseOnHoverButtons:!1},slideOneImageAnimation:"2000px/s",slideAllImagesAnimation:"3236px/s",slideEasingFunction:"swing",autoCenterOnHover:!0,displayButtons:!0,displayButtonsOptions:{when:"hover"},displayCaption:!0,displayCaptionOptions:{when:"hover"},captureArrowKeys:!0,captureArrowKeysOptions:{selector:"body"},slideWithMouseWheel:!0,advanced:{slideTolerance:5,mousewheelAutocentreInactivityMs:1e3,mousewheelMultiplier:40,divCleanup:!0}},o={f:"mch-carousel",p:"px/s",x:"px",a:"mch-invisible",h:"mch-no-hover",w:"default",n:"negative",r:"reverse",s:"#mch-visible-carousel",S:"mch-visible-carousel",c:"#mch-viewport",C:"mch-viewport",b:".mch-button",B:"mch-button",t:".mch-caption-cntnr",T:"mch-caption-cntnr",k:".mch-image-container",K:"mch-image-container",l:"#mch-image-list",L:"mch-image-list",Z:"mch-buttons-pane",Z1:"mch-slide-control-group",Z2:"mch-left-right-group",Z3:"mch-start-end-group",G:"mch-button-background",J:"mch-button-graphics",D:"mch-hyperlink",E:"mch-caption-lines",E0:"mch-caption-background",E1:"mch-caption-line1",E2:"mch-caption-line2",E3:"mch-caption-line3",F:"mch-image",Q:"mch-scrollable-viewport",R:"mch-navigation",O:"mch-slide-control",ia:"_mch-carousel:enter-image",ib:"_mch-carousel:auto-centre",ic:"_mch-carousel:leave-image",ix:"_mch-carousel:pause-auto-slide",iz:"_mch-carousel:restart-auto-slide",iy:"_mch-carousel:reschedule-auto-slide",it:"_mch-carousel:cancel-auto-slide",i5:"_mch-carousel:slide-prev",i6:"_mch-carousel:slide-next",i7:"_mch-carousel:slide-first",i8:"_mch-carousel:slide-last",i9:"_mch-carousel:auto-next"},s={p:"mch-carousel:enter-carousel",r:"mch-carousel:leave-carousel",c:"mch-carousel:before-slide-left",d:"mch-carousel:slide-left",e:"mch-carousel:before-slide-right",f:"mch-carousel:slide-right",g:"mch-carousel:before-slide-leftmost",h:"mch-carousel:slide-leftmost",i:"mch-carousel:before-slide-rightmost",j:"mch-carousel:slide-rightmost",C:"mch-carousel:before-slide-prev",D:"mch-carousel:slide-prev",E:"mch-carousel:before-slide-next",F:"mch-carousel:slide-next",G:"mch-carousel:before-slide-first",H:"mch-carousel:slide-first",I:"mch-carousel:before-slide-last",J:"mch-carousel:slide-last",a:"mch-carousel:before-autocentre-image",b:"mch-carousel:autocentre-image",l:"mch-carousel:enter-image",n:"mch-carousel:leave-image",s:"mch-carousel:enter-button",t:"mch-carousel:leave-button"},r=t.fn.mchCarousel.eventNames=[];t.each(s,function(t,e){r.push(e)}),t.fn.mchCarousel.defaultOptions=i;var a=function(r,a){function c(){return r}function u(){return r[0]}function l(){var e=t('<div id="'+o.L+'"></div>');return r.find("img").each(function(){e.append(this)}),r.html(""),r.append(e),e}function d(){L.carouselResized()}function h(e){a=t.extend(!0,{},a,e),f(),L.optionsChanged()}function f(){var t=a._h||(a._h={}),e=a.slideOneImageAnimation,n=a.slideAllImagesAnimation;t.oau=e?e.endsWith(o.x)||e.endsWith(o.p)?o.p:"ms":"1000px",t.oav=e?parseInt(e):500,t.aau=n?n.endsWith(o.x)||n.endsWith(o.p)?o.p:"ms":"1609px",t.aav=n?parseInt(n):1500}function p(){switch(a.slideAutomaticallyOptions.direction){case"ltr":return!0;case"rtl":return!1}return n(r)}function v(){r.trigger(o.iy)}a=t.extend(!0,{},i,a),f();{var m=function(t,e){function n(){u||(c=window.setTimeout(t,l()))}function i(){c&&window.clearTimeout(c),c=null}function o(){i(),n()}function s(){u=!0,i()}function r(){u=!1,o()}function a(){return u}var c=null,u=!1,l="function"==typeof e?e:function(){return e};this.schedule=n,this.cancel=i,this.reschedule=o,this.pause=s,this.restart=r,this.isPaused=a},g=function(){function t(){r.trigger(o.ix)}function e(){r.trigger(o.iz)}function n(){var t;v(),f(),(t=p())?(A(),H()):(O(),R()),m(),t?B():M()}function i(){var t;v(),g(),(t=p())?(O(),R()):(A(),H()),w(),t?M():B()}function a(){var t;v(),y(),(t=p())?(L(),I()):(_(),W()),b(),t?S():E()}function c(){var t;v(),C(),(t=p())?(_(),W()):(L(),I()),x(),t?E():S()}function u(){var t;v(),(t=p())?f():g(),A(),H(),(t=p())?m():w(),B()}function l(){var t;v(),(t=p())?g():f(),O(),R(),(t=p())?w():m(),M()}function d(){var t;v(),(t=p())?y():C(),L(),I(),(t=p())?b():x(),S()}function h(){var t;v(),(t=p())?C():y(),_(),W(),(t=p())?x():b(),E()}function f(){r.trigger(s.c)}function m(){r.trigger(s.d)}function g(){r.trigger(s.e)}function w(){r.trigger(s.f)}function y(){r.trigger(s.g)}function b(){r.trigger(s.h)}function C(){r.trigger(s.i)}function x(){r.trigger(s.j)}function A(){r.trigger(s.C)}function B(){r.trigger(s.D)}function O(){r.trigger(s.E)}function M(){r.trigger(s.F)}function L(){r.trigger(s.G)}function S(){r.trigger(s.H)}function _(){r.trigger(s.I)}function E(){r.trigger(s.J)}function I(){r.trigger(o.i7)}function H(){r.trigger(o.i5)}function R(){r.trigger(o.i6)}function W(){r.trigger(o.i8)}this.pauseAutoslide=t,this.restartAutoslide=e,this.slideLeft=n,this.slideRight=i,this.slideLeftmost=a,this.slideRightmost=c,this.slidePrev=u,this.slideNext=l,this.slideFirst=d,this.slideLast=h},w=function(t){function e(){a.slideAutomatically&&n.canAutoSlide()&&r.trigger(o.i9),i.schedule()}var n=t[0],i=new m(e,function(){return a.slideAutomaticallyOptions.pauseMs});r.on(o.ix,function(){i.pause()}),r.on(o.iz,function(){i.restart()}),r.on(o.iy,function(){i.reschedule()}),r.on(o.it,function(){i.cancel()}),i.schedule()},y=function(){function e(t){x&&(x.off("mousewheel",g),x.remove()),(x=t)&&(A.prepend(x),x.on({mousewheel:g}))}function n(){return x}function i(t){C&&C.remove(),A.append(C=t)}function r(){return C}function c(e){y()&&t(e.target).trigger(o.ib,e.target)}function u(){if(a.captureArrowKeys){var e=t(a.captureArrowKeysOptions.selector),n=function(t){x&&(37===t.keyCode?O.slideLeft():39===t.keyCode&&O.slideRight())};if(e[0]){e.on("keydown",n);var i;(i=a._h).cD=e[0],i.cF=n}}}function l(){var e;(e=a._h).cD&&(t(e.cD).off("keydown",e.cF),e.cD=null)}function d(){l(),h(),u(),x&&x[0].optionsChanged(),C&&C[0].optionsChanged()}function h(){C&&(a.displayButtons&&A.width()<x[0].totalWidth()?C[0].showNavigationButtons():C[0].hideNavigationButtons())}function f(){C&&C[0].hoverButtons(),A.trigger(s.p)}function p(){C&&C[0].unhoverButtons(),A.trigger(s.r)}function g(){B=!0,M.reschedule()}function w(){B=!1,v()}function y(){return a.autoCenterOnHover&&!B}function b(){return!(!A.is(":visible")||C&&C[0].isMouseHoveringButtons()&&a.slideAutomaticallyOptions.pauseOnHoverButtons||x&&x[0].isMouseHoveringImages()&&a.slideAutomaticallyOptions.pauseOnHoverImage)}var C,x,A=t('<div id="'+o.S+'"></div>'),B=!1,M=new m(w,function(){return a.advanced.mousewheelAutocentreInactivityMs});A.on({mouseenter:f,mouseleave:p}),A.on(o.ia,c),u();var L=A[0];return L.carouselResized=h,L.optionsChanged=d,L.setViewport=e,L.getViewport=n,L.setButtonsPane=i,L.getButtonsPane=r,L.canAutoSlide=b,A},b=function(){function e(t){y.append(t),c(),s(t)}function n(t){b.append(t),s(t)}function i(t){x.append(t),s(t)}function s(t){A.push(t),t.on({mouseenter:v,mouseleave:m})}function r(){t.each(A,function(){t(this)[0].optionsChanged()}),c()}function c(){a.slideAutomatically?d():h()}function u(){b.removeClass(o.a),x.removeClass(o.a)}function l(){b.addClass(o.a),x.addClass(o.a)}function d(){y.removeClass(o.a)}function h(){y.addClass(o.a)}function f(){t.each(A,function(){t(this)[0].buttonHover()})}function p(){t.each(A,function(){t(this)[0].buttonUnhover()})}function v(){B=!0}function m(){B=!1}function g(){return B}var w=t('<div id="'+o.Z+'"></div>'),y=t('<div id="'+o.Z1+'"></div>'),b=t('<div id="'+o.Z2+'"></div>'),x=t('<div id="'+o.Z3+'"></div>'),A=[],B=!1;e(new C("mch-pause","sc",O.pauseAutoslide)),e(new C("mch-restart","sc",O.restartAutoslide)),n(new C("mch-leftmost","nlr",O.slideLeftmost)),n(new C("mch-left","nlr",O.slideLeft)),n(new C("mch-right","nlr",O.slideRight)),n(new C("mch-rightmost","nlr",O.slideRightmost)),i(new C("mch-first","nse",O.slideFirst)),i(new C("mch-prev","nse",O.slidePrev)),i(new C("mch-next","nse",O.slideNext)),i(new C("mch-last","nse",O.slideLast)),w.append(y).append(b).append(x);var M=w[0];return M.optionsChanged=r,M.showNavigationButtons=u,M.hideNavigationButtons=l,M.showSlideControlButtons=d,M.hideSlideControlButtons=h,M.hoverButtons=f,M.unhoverButtons=p,M.isMouseHoveringButtons=g,w},C=function(e,n,i){function r(){return"nlr"===n||"nse"===n}function c(){g.trigger(s.s)}function u(){g.trigger(s.t)}function l(){h()&&g.removeClass(o.h)}function d(){h()&&g.addClass(o.h)}function h(){return a.displayButtons&&"hover"===a.displayButtonsOptions.when}function f(){g.removeClass(o.a)}function p(){g.addClass(o.a)}function v(){}function m(t){t.preventDefault()}var g=t('<div class="'+o.B+" "+("sc"===n?o.O:o.R)+(h()?" "+o.h:"")+'" id="'+e+'"><div class="'+o.G+'"></div><div class="'+o.J+'"></div></div>');g.on({click:i,dblclick:m,mouseenter:c,mouseleave:u}),g[0].onselectstart=m;var w=g[0];return w.buttonHover=l,w.buttonUnhover=d,w.showButton=f,w.hideButton=p,w.optionsChanged=v,w.isNavigation=r,g},x=function(e,n){function i(){_&&L.prop("src",g),S&&u()&&S.removeClass(o.h),M.trigger(o.ia),M.trigger(s.l)}function r(){_&&L.prop("src",v),c(),M.trigger(o.ic),M.trigger(s.n)}function c(){S&&u()&&S.addClass(o.h)}function u(){var t;return L&&(t=L.data("caption-display"))?"hover"===t:a.displayCaption&&"hover"===a.displayCaptionOptions.when}function l(){h&&(a.displayCaption?h.removeClass(o.a):h.addClass(o.a))}var d,h,f=e.prop("id"),p=e.prop("class"),v=e.prop("src"),m=e.prop("alt"),g=e.data("img-over"),w=e.data("caption-display"),y=e.data("data"),b=e.data("caption-lang"),C=e.data("caption-line1"),x=e.data("caption-line2"),A=e.data("caption-line3"),B=e.data("link"),O=e.data("open-in-new-window"),M=t('<div class="'+o.K+(p?" "+p:"")+'" data-idx="'+n+'"'+(f?' id="'+f+'"':"")+(y?' data-data="'+y+'"':"")+"></div>");B?M.append(d=t('<a class="'+o.D+'" href="'+B+'"'+(O?' target="_blank"':"")+"></a>")):d=M,(C||x||A)&&(h=t('<div class="'+o.T+'"><div class="'+o.E0+'"></div><div class="'+o.E+'"'+(b?' lang="'+b+'"':"")+">"+(C?'<div class="'+o.E1+'"><p>'+C+"</p></div>":"")+(x?'<div class="'+o.E2+'"><p>'+x+"</p></div>":"")+(A?'<div class="'+o.E3+'"><p>'+A+"</p></div>":"")+"</div></div>"),d.append(h)),d.append('<img class="'+o.F+'" src="'+v+'" data-src="'+v+'" '+(m?' alt="'+m+'" ':"")+(g?' data-img-over="'+g+'" ':"")+(w?' data-caption-display="'+w+'" ':"")+"></img>"),M.on({mouseenter:i,mouseleave:r});var L=M.find("img"),S=M.find(o.t),_=!!L.data("img-over");c();var E=M[0];return E.optionsChanged=l,M},A=function(n){function i(){t.each(_,function(t,e){e.optionsChanged()})}function c(e){I=H.length=R.length=0,L.find(o.k).each(function(){var n=parseInt(t(this).css("width"));e||(H.push(I),R.push(I+n)),I+=n})}function u(){return c(!0),I}function l(){E=!0}function d(){E=!1,v()}function h(e,n){c();var i=t(n),o=i.data("idx"),r=Math.round(C()),a=Math.round(L.scrollStart()),u=a+r,l=H[o],d=R[o];r<R[o]-H[o]&&a>=l&&d>=u||(a>l?(i.trigger(s.a),A(l),i.trigger(s.b)):d>u&&(i.trigger(s.a),A(d-r),i.trigger(s.b)))}function f(){return E}function m(){c();var t=Math.round(L.scrollStart()),e=a.advanced.slideTolerance;if(t>e)for(var n=0;n<R.length;n++)if(R[n]>=t-e)return A(H[n]),!0}function g(){c();var t=Math.round(C()),e=Math.round(L.scrollStart()+t),n=a.advanced.slideTolerance;if(I-n>e)for(var i=H.length-1;i>=0;i--)if(H[i]<=e+n)return A(R[i]-t),!0}function w(){B(0)}function y(){c(),B(R[R.length-1]-C())}function b(){g()||w()}function C(){var t;return(t=M.closest(o.s))[0]?t.width():void 0}function A(t){var e;L.animatedScrollStart(t,(e=a._h).oau,e.oav)}function B(t){var e;L.animatedScrollStart(t,(e=a._h).aau,e.aav)}function O(t){if(a.slideWithMouseWheel){r.trigger(o.it),t=window.event||t;var e,n=t.originalEvent&&"undefined"!=typeof t.originalEvent.detail?-1:1,i="undefined"==typeof t.deltaX,s=i?t.wheelDeltaX:t.deltaX,c=i?t.wheelDeltaY:t.deltaY;e=Math.abs(c)>Math.abs(s)?Math.max(-1,Math.min(1,n*c)):Math.max(-1,Math.min(1,n*s))*(p()?-1:1),L.scrollStart(L.scrollStart()+e*a.advanced.mousewheelMultiplier),t.preventDefault()}}var M=t('<div id="'+o.C+'"></div>'),L=t('<div id="'+o.Q+'"></div>'),S=0,_=[],E=!1,I=0,H=[],R=[];M.append(L),n.find("img").each(function(){var e=new x(t(this),S++);L.append(e),e.on({mouseenter:l,mouseleave:d}),_.push(e)}),L.on({mousewheel:O,scroll:v}),L.on(o.ib,h),r.on(o.i5,m),r.on(o.i6,g),r.on(o.i7,w),r.on(o.i8,y),r.on(o.i9,b),e(L,a);var W=M[0];return W.totalWidth=u,W.optionsChanged=i,W.isMouseHoveringImages=f,M},B=l(),O=new g,M=new y,L=M[0],S=new A(B),_=new b;new w(M)}L.setViewport(S),L.setButtonsPane(_),r.append(M),r.addClass(o.f),this.pauseAutoslide=O.pauseAutoslide,this.restartAutoslide=O.restartAutoslide,this.slideLeft=O.slideLeft,this.slideRight=O.slideRight,this.slideLeftmost=O.slideLeftmost,this.slideRightmost=O.slideRightmost,this.slideNext=O.slideNext,this.slidePrev=O.slidePrev,this.slideFirst=O.slideFirst,this.slideLast=O.slideLast,this.changeOptions=h,this.forceResize=d,this.getObject=c,this.getDomObject=u,t(window).on("resize",d)}}(jQuery);